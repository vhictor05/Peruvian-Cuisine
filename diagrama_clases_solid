@startuml

' ==== INTERFACES COMPORTAMENTALES ====
interface IServicio {
  +mostrar_menu(): void
}

interface IReservable {
  +reservar(): void
}

interface IComprable {
  +comprar(): void
}

' ==== SISTEMA PRINCIPAL ====
class SistemaPrincipal {
  +servicios: List<IServicio>
  +elegir_servicio(tipo: str): IServicio
  +mostrar_opciones(): void
}
SistemaPrincipal --> IServicio : usa()





' ==== CASINO ====
class Evento {
  +id: int
  +nombre: str
  +descripcion: str
  +fecha: datetime
  +precio_entrada: float
  +aforo_maximo: int
}

class ClienteDiscoteca {
  +id: int
  +nombre: str
  +rut: str
  +email: str
  +telefono: str
}

class Entrada {
  +id: int
  +cliente_id: int
  +evento_id: int
  +fecha_compra: datetime
  +reservar(): void
}
Entrada ..|> IReservable 

class Trago {
  +id: int
  +nombre: str
  +descripcion: str
  +precio: float
  +comprar(): void
}
Trago ..|> IComprable

class PedidoBar {
  +id: int
  +cliente_id: int
  +fecha: datetime
  +total: float
}

class Casino {
  +eventos: List<Evento>
  +clientes: List<ClienteDiscoteca>
  +entradas: List<Entrada>
  +tragos: List<Trago>
  +pedidos_bar: List<PedidoBar>
  +mostrar_menu(): void
  +reservar(): void
  +comprar(): void
}
Casino ..|> IServicio

Casino *-- "0..1" Evento
Casino *-- "0..*" ClienteDiscoteca
Casino *-- "0..*" Entrada
Casino *-- "0..*" Trago
Casino *-- "0..*" PedidoBar

Entrada "*" --* "1" Evento
Entrada "*" --* "1" ClienteDiscoteca
PedidoBar "0..*" --* "1" ClienteDiscoteca
PedidoBar "1" --o "1..*" Trago



' ==== HOTEL (CENTRAL) ====
class Huesped {
  +id: int
  +nombre: str
  +rut: str
  +email: str
  +telefono: str
}

class Reserva {
  +id: int
  +huesped_id: int
  +fecha_entrada: date
  +fecha_salida: date
  +estado: str
}

class Habitacion {
  +id: int
  +numero: str
  +tipo: str
  +precio: float
  +disponible: bool
}
Habitacion ..|> IReservable

class DetalleReservaHabitacion {
  +reserva_id: int
  +habitacion_id: int
  +notas: str
}

class Hotel {
  +huespedes: List<Huesped>
  +habitaciones: List<Habitacion>
  +reservas: List<Reserva>
  +mostrar_menu(): void
  +reservar(): void
  +comprar(): void
}
Hotel ..|> IServicio

Hotel *-- "0..*" Huesped
Hotel *-- "1..*" Habitacion
Hotel *-- "0..*" Reserva
Reserva "*" --> "1" Huesped
Reserva "*" --* "*" DetalleReservaHabitacion
Habitacion "*" --* "*" DetalleReservaHabitacion



' ==== RESTAURANTE ====
class Cliente {
  +id: int
  +nombre: str
  +email: str
}

class Menu {
  +id: int
  +nombre: str
  +descripcion: str
  +precio: float
  +comprar(): void
}
Menu ..|> IComprable

class Pedido {
  +id: int
  +cliente_rut: str
  +descripcion: str
  +total: float
  +fecha: datetime
}

class Mesa {
  +id: int
  +numero: int
  +capacidad: int
  +disponible: bool
}

Mesa ..|> IReservable

class ReservaRestaurante {
  +id: int
  +cliente_id: int
  +fecha: datetime
  +cantidad_personas: int
}

class DetalleReservaMesa {
  +reserva_id: int
  +mesa_id: int
  +comentario: str
}

class Restaurante {
  +clientes: List<Cliente>
  +Menu: List<Menu>
  +pedidos: List<Pedido>
  +reservas: List<ReservaRestaurante>
  +mesas: List<Mesa>
  +mostrar_menu(): void
  +reservar(): void
  +comprar(): void
}
Restaurante ..|> IServicio

Restaurante *-- "0..*" Cliente
Restaurante *-- "0..*" Pedido
Restaurante *-- "1..*" Menu
Restaurante *-- "0..*" ReservaRestaurante
Restaurante *-- "1..*" Mesa

Pedido "1" --* "1" Cliente
Pedido "1" --* "1..*" Menu
ReservaRestaurante "*" --* "1" Cliente
ReservaRestaurante "*" --* "*" DetalleReservaMesa
Mesa "*" --* "*" DetalleReservaMesa




@enduml
