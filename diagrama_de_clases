@startuml

' ==== SISTEMA PRINCIPAL ====
class SistemaPrincipal {
  +casino: Casino
  +hotel: Hotel
  +restaurante: Restaurante
  +elegir_servicio(tipo: str)
}
SistemaPrincipal o-- "1" Casino
SistemaPrincipal o-- "1" Hotel
SistemaPrincipal o-- "1" Restaurante

' ==== CASINO ====
class Evento {
  +id: int
  +nombre: str
  +descripcion: str
  +fecha: datetime
  +precio_entrada: float
  +aforo_maximo: int
}

class ClienteDiscoteca {
  +id: int
  +nombre: str
  +rut: str
  +email: str
  +telefono: str
}

class Entrada {
  +id: int
  +cliente_id: int
  +evento_id: int
  +fecha_compra: datetime
}

class Trago {
  +id: int
  +nombre: str
  +descripcion: str
  +precio: float
}

class PedidoBar {
  +id: int
  +cliente_id: int
  +fecha: datetime
  +total: float
}

class Casino {
  +eventos: List<Evento>
  +clientes: List<ClienteDiscoteca>
  +entradas: List<Entrada>
  +tragos: List<Trago>
  +pedidos_bar: List<PedidoBar>
}

Casino o-- "0..1" Evento
Casino *-- "0..*" ClienteDiscoteca
Casino *-- "0..*" Entrada
Casino *-- "0..*" Trago
Casino *-- "0..*" PedidoBar

Entrada "*" --* "1" Evento
Entrada "*" --* "1" ClienteDiscoteca

PedidoBar "0..*" --* "1" ClienteDiscoteca
PedidoBar "1" --o "1..*" Trago

' ==== HOTEL ====
class Huesped {
  +id: int
  +nombre: str
  +rut: str
  +email: str
  +telefono: str

}

class Reserva {
  +id: int
  +huesped_id: int
  +fecha_entrada: date
  +fecha_salida: date
  +estado: str
}

class Habitacion {
  +id: int
  +numero: str
  +tipo: str
  +precio: float
  +disponible: bool
}

class DetalleReservaHabitacion {
  +reserva_id: int
  +habitacion_id: int
  +notas: str
}

class Hotel {
  +huespedes: List<Huesped>
  +habitaciones: List<Habitacion>
  +reservas: List<Reserva>
  +realizar_reserva(): void
  +comprar_articulo(): void
}

Hotel *-- "0..*" Huesped
Hotel *-- "1..*" Habitacion
Hotel *-- "0..*" Reserva
Reserva "*" --> "1" Huesped

Reserva "*" --* "*" DetalleReservaHabitacion
Habitacion "*" --* "*" DetalleReservaHabitacion


' ==== RESTAURANTE ====
class Cliente {
  +id: int
  +nombre: str
  +email: str
}

class Menu {
  +id: int
  +nombre: str
  +descripcion: str
  +precio: float
}

class Pedido {
  +id: int
  +cliente_rut: str
  +descripcion: str
  +total: float
  +fecha: datetime
}

class Mesa {
  +id: int
  +numero: int
  +capacidad: int
  +disponible: bool
}

class ReservaRestaurante {
  +id: int
  +cliente_id: int
  +fecha: datetime
  +cantidad_personas: int
}

class DetalleReservaMesa {
  +reserva_id: int
  +mesa_id: int
  +comentario: str
}

class Restaurante {
  +clientes: List<Cliente>
  +Menu: List<Menu>
  +pedidos: List<Pedido>
  +reservas: List<ReservaRestaurante>
  +mesas: List<Mesa>
  +hacer_pedido(): void
  +reservar_mesa(): void
}
Restaurante *-- "0..*" Cliente
Restaurante *-- "0..*" Pedido
Restaurante *-- "1..*" Menu
Restaurante *-- "0..*" ReservaRestaurante
Restaurante *-- "1..*" Mesa

Pedido "1" --* "1" Cliente
Pedido "1" --* "1..*" Menu

ReservaRestaurante "*" --* "1" Cliente
ReservaRestaurante "*" --* "*" DetalleReservaMesa
Mesa "*" --* "*" DetalleReservaMesa


@enduml

#entrar a https://www.plantuml.com/plantuml/uml/  ejecutar codigo en caso de querer modificar diagrama.